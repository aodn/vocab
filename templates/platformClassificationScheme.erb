
<%= render "header.erb" %>

<%# the only difference here is the conceptScheme definition we could factor this code.%>

<% @conceptScheme = 'http://vocab.aodn.org.au/def/platform' %>

<%= render "concept_scheme.erb" %>

<% for @topConcept in query_sql_subject( %{
	select r1.subject as subject
	from _rdf r1
	left join _rdf r2 on r2.subject = r1.subject
	where r1.predicate = 'skos:inScheme' and r1.object = '#{ @conceptScheme }'
	and r2.predicate = 'rdf:type' and r2.object = 'skos:TopConcept' },
	nil )
%>
	<%= render "top_concept.erb" %>
<% end %>

<% for @concept in query_sql_subject( %{
	select r1.subject as subject
	from _rdf r1
	left join _rdf r2 on r2.subject = r1.subject
	where r1.predicate = 'skos:inScheme' and r1.object = '#{ @conceptScheme }'
	and r2.predicate = 'rdf:type' and r2.object = 'skos:Concept' },
	nil )
%>
	<%= render "concept.erb" %>
<% end %>

<%= render "footer.erb" %>

